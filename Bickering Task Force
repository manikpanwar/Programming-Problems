//NOT WORKING
#include <iostream>
using namespace std;
 
int edges(int);
int k=0,m=0,n=0,size = 0;
int graph[3001][3001];
int force[3001];
int edge[3001];
 
int main() 
{
        cin>>n>>m>>k;
        int t1,t2;
        for(int i=0;i<3001;i++) 
        {
 
                force[i]=0;
                edge[i]=-1;
                for(int j=0;j<3001;j++)
                {
                        graph[i][j]=0;
                }
        }
        for(int i=1;i<=m;i++)
        {
                cin>>t1>>t2;
                graph[t1][t2]=1;
                graph[t2][t1]=1;
        }
   		int count = 0;
    	for(int i =1;i<=n;i++)
    	{
    		count = 0;
    		if(edge[i]==-1)
    		{
    			for(int j = 1;j<=n;j++)
    			{
    				if(graph[i][j]==1&&edge[i]==-1)
    				{
    					if(edges(j)>=k&&edge[j]!=-1)
    					count++;
    				}
    			}
    			if(count>=k&&force[i]==0)
    			{
    				force[i]++;	
    				size++;
    			}
    			edge[i]=count;
    		}
 
    	}
    if(size>0)
    cout<<"YES"<<endl<<size;
    else
    cout<<"NO";
 
    return 0;
}    
